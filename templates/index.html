{% extends "layout.html" %}
{% block body %}
<!--Home-->
<section id="tal" class="bg-dark text-light p-3 mt-5 text-center text-sm-start">
    <div>
        <h3 class=" p-3 text-warning text-center">Artificial Intelligence (AI) to Predict Whether a Customer Will Buy a Product or Not</h3>
    </div>
    <div class="sidebar">
        <div class="d-lg-flex">
            <div class="container fluid">
                <h3 class=" p-1 text-success text-center">Summary</h3>
                <div>
                    <p class="text-white">
                        Used the data set that contains transactions occurring in an online store (E-commerce) to train the model. The data set contains 12,330 customer samples with 84.5% (10,422) were negative class samples (i.e. customers who did not end up buying the product), and the rest (1908) were positive class samples (i.e. customers who ended up buying).The dataset consists of 10 numerical and 8 categorical attributes.The differnt features used are:"Administrative", "Administrative Duration", "Informational", "Informational Duration", "Product Related",  "Product Related Duration", "Bounce Rate", "ExitRates", "Pages Values", "Special Day", "Revenue" and so on.
                    </p>
                    <div class='bg-secondary p-3'>
                    <h4 class="text-center text-warning"></h4>
                    <h5 class="text-warning"> </h5>
                    </div>    
                    
                    <div class='bg-black'>
                        <h4 class="text-success text-center">Differnt Model Used</h4>

                    <p class="text-success">
                        <ul>
                            <li>Model 1: Stochastic Gradent Descent Classifier</li>
                            <li>Model 2: Logistic Regression</li>
                            <li>Model 3: Support Vector Classifier</li>
                            <li>Model 4: Decision Tree Classifier</li>
                            <li>Model 5: Random Forest Classifier</li>
                            <li>Model 6: Extremely Random Trees</li>
                            <li>Model 7: Boosting</li>
                        </ul>
                    </p>

                    </div>

                    

                    <div class="container">
                        <div class="jumbotron text-center bg-dark text-light  p-3">
                            <h4><span class="text-danger">Performance measures from the best models</span></h4>
                        </div >
                    </div >
                    
                    <div class="container">
                        <table class="table table-striped table table-bordered table-dark">
                            <thead>
                                <tr style="text-align: right;">
                                  <th></th>
                                  <th>SGD</th>
                                  <th>logistic Reg</th>
                                  <th>SVC</th>
                                  <th>Decision Tree</th>
                                  <th>Random Forest</th>
                                  <th>Extra Random Tree</th>
                                  <th>AdaBoost</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr>
                                  <th>train score</th>
                                  <td>0.808866</td>
                                  <td>0.820828</td>
                                  <td>0.829655</td>
                                  <td>1.000000</td>
                                  <td>0.950297</td>
                                  <td>0.888633</td>
                                  <td>1.000000</td>
                                </tr>
                                <tr>
                                  <th>test score</th>
                                  <td>0.796392</td>
                                  <td>0.803493</td>
                                  <td>0.819804</td>
                                  <td>0.950681</td>
                                  <td>0.924199</td>
                                  <td>0.847246</td>
                                  <td>0.943005</td>
                                </tr>
                                <tr>
                                  <th>precision_score</th>
                                  <td>0.834071</td>
                                  <td>0.822695</td>
                                  <td>0.842282</td>
                                  <td>0.912037</td>
                                  <td>0.893917</td>
                                  <td>0.813493</td>
                                  <td>0.902335</td>
                                </tr>
                                <tr>
                                  <th>recall_score</th>
                                  <td>0.733178</td>
                                  <td>0.767017</td>
                                  <td>0.781019</td>
                                  <td>0.996110</td>
                                  <td>0.960327</td>
                                  <td>0.895760</td>
                                  <td>0.991832</td>
                                </tr>
                                <tr>
                                  <th>f1_score</th>
                                  <td>0.780377</td>
                                  <td>0.793881</td>
                                  <td>0.810494</td>
                                  <td>0.952222</td>
                                  <td>0.925933</td>
                                  <td>0.852647</td>
                                  <td>0.944969</td>
                                </tr>
                                <tr>
                                  <th>auc</th>
                                  <td>0.894501</td>
                                  <td>0.900322</td>
                                  <td>0.907073</td>
                                  <td>0.951275</td>
                                  <td>0.977163</td>
                                  <td>0.934809</td>
                                  <td>0.943643</td>
                                </tr>
                              </tbody>
                            </table>
                    </div>
                    
                        
                </div>
            </div>
            <div class="container p-2 ">
                <h2 class='text-center'>Model Predection</h2>
                <div class= "bg-black" >
                    <div class= " bg-secondary text-warning">
                        <h4>
                            Please enter the following information to predict wheather the customer will buy your product or not.
                        </h4>
                    </div>
                    <div class='p-3'>
                    <form action = "/send" method = "post">
                        <div class="mb-3  lead text-primary">
                            <label  for="Monthly Owner Cost">Administrative</label>
                            <input  type="number" step="any" name="Administrative" id="Administrative" />                
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Per Capita Income">Administrative_Duration</label>
                            <input  type="number" step="any" name="Administrative_Duration" id="Administrative_Duration" />  
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Lng">Informational</label>
                            <input  type="number" step="any" name="Informational" id="Informational" />
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Household Income">Informational_Duration</label>
                            <input  type="number" step="any" name="Informational_Duration" id="Informational_Duration" /> 
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="College Rate">ProductRelated</label>
                            <input  type="number" step="any" name="ProductRelated" id="ProductRelated" />
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Lat">ProductRelated_Duration</label>
                            <input  type="number" step="any" name="ProductRelated_Duration" id="ProductRelated_Duration" />
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Personal Transport Rate">BounceRates</label>
                            <input  type="number" step="any" name="BounceRates" id="BounceRates" /> 
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="High School Rate">ExitRates</label>
                            <input  type="number" step="any" name="ExitRates" id="ExitRates" /> 
                        </div>
                        <div class="mb-3  lead text-primary">
                            <label  for="Median Age">PageValues</label>
                            <input  type="number" step="any" name="PageValues" id="PageValues" />  
                        </div>
                    </div>
                        <!-- Form submit button -->
                        <div class="d-grid">
                            <button class="btn btn-primary btn-lg" type="submit" value="submit">Submit</button>
                        </div>
                    </form>
                    <h3 class='pt-4'> {{ prediction }}</h3>
                </div>
                <div class='bg-black p-3'>
                    <h4 class="text-center text-warning">Conclusion</h4>
                    <h5 class="text-white"> Performed different feature engineering techniques to clean datasets and combined and binned different features. Since the dataset is unbalanced with large percentage around 90% is customers who did not buy the product, so sampling techniques is used. Both oversampling and undersampling techniques were used to make even number of both target classes. Also, different performances measures are used to evaluate the models. To improve model performances several low score features are removed and re-run all the models. From the analysis many customers who stay longer in the website usually buy the product.</h5>
                    </div>
      
            </div>
            
        </div> 
    </div>
</section>

<footer>
    <p>Copyright &copy; pandeysudip2022</p>
</footer>
<!-- JavaScript file -->
<script type="text/javascript" src="static/js/index.js"></script>     
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
{% endblock %}